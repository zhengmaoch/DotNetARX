# ğŸš€ DotNetARX å¿«é€Ÿå‚è€ƒæŒ‡å—

## ğŸ“– åŸºç¡€ç”¨æ³•

### åˆå§‹åŒ–
```csharp
using DotNetARX;
ARX.Initialize(); // å¯é€‰ï¼Œä¼šè‡ªåŠ¨åˆå§‹åŒ–
```

### å®ä½“æ“ä½œ
```csharp
// åˆ›å»ºå’Œæ·»åŠ å®ä½“
var line = new Line(Point3d.Origin, new Point3d(100, 100, 0));
var entityId = ARX.ARXDatabase.AddToModelSpace(db, line);

// åŸºç¡€å˜æ¢
ARX.ARXEntity.Move(entityId, Point3d.Origin, new Point3d(50, 50, 0));
ARX.ARXEntity.Rotate(entityId, Point3d.Origin, Math.PI / 4);
ARX.ARXEntity.Scale(entityId, Point3d.Origin, 2.0);

// å¤åˆ¶å’Œé•œåƒ
var copyId = ARX.ARXEntity.Copy(entityId, Point3d.Origin, new Point3d(100, 0, 0));
var mirrorId = ARX.ARXEntity.Mirror(entityId, Point3d.Origin, new Point3d(0, 100, 0));

// åç§»ï¼ˆä»…é™æ›²çº¿ï¼‰
var offsetIds = ARX.ARXEntity.Offset(entityId, 10.0);
```

### å¼‚æ­¥æ“ä½œ
```csharp
// å¼‚æ­¥å®ä½“æ“ä½œ
var result = await ARX.ARXEntityAsync.MoveAsync(entityId, from, to, cancellationToken);
if (result.Success)
    Console.WriteLine($"æ“ä½œå®Œæˆï¼Œè€—æ—¶: {result.Duration.TotalMilliseconds}ms");

// æ‰¹é‡å¼‚æ­¥å¤„ç†
var progress = new Progress<AsyncProgress>(p => 
    Console.WriteLine($"è¿›åº¦: {p.Percentage:F1}%"));

var results = await ARX.ARXEntityAsync.BatchOperationAsync(
    items, item => ProcessItem(item), progress, cancellationToken, maxConcurrency: 4);
```

## ğŸ”§ å·¥å…·å‡½æ•°

### å­—ç¬¦ä¸²å·¥å…·
```csharp
ARX.String.IsNumeric("123.45");     // true
ARX.String.IsInteger("123");        // true
ARX.String.ToDoubleOrDefault("abc", 0.0); // 0.0
ARX.String.IsNullOrWhiteSpace("  "); // true
```

### å‡ ä½•å·¥å…·
```csharp
ARX.Geometry.IsValidCoordinate(point);        // æ£€æŸ¥åæ ‡æœ‰æ•ˆæ€§
ARX.Geometry.IsEqualTo(pt1, pt2, tolerance); // ç‚¹æ¯”è¾ƒ
```

## ğŸ“ æ—¥å¿—è®°å½•

```csharp
ARX.Logger.Debug("è°ƒè¯•ä¿¡æ¯");
ARX.Logger.Info("ä¸€èˆ¬ä¿¡æ¯");
ARX.Logger.Warning("è­¦å‘Šä¿¡æ¯");
ARX.Logger.Error("é”™è¯¯ä¿¡æ¯", exception);

// æˆ–ä½¿ç”¨å¿«æ·æ–¹å¼
using static DotNetARX.CAD;
Log.Info("æ“ä½œå®Œæˆ");
Log.Error("å‘ç”Ÿé”™è¯¯", ex);
```

## ğŸ“Š æ€§èƒ½ç›‘æ§

```csharp
// è®¡æ—¶å™¨
using (ARX.Performance.StartTimer("MyOperation"))
{
    // æ‚¨çš„ä»£ç 
}

// è®°å½•æŒ‡æ ‡
ARX.Performance.RecordMetric("ProcessedItems", count);
ARX.Performance.IncrementCounter("UserActions");
ARX.Performance.IncrementErrorCounter("SaveErrors");

// ç”ŸæˆæŠ¥å‘Š
var report = ARX.Performance.GenerateReport();

// æˆ–ä½¿ç”¨å¿«æ·æ–¹å¼
using (Perf.Timer("Operation")) { /* ä»£ç  */ }
Perf.Count("Actions");
Perf.Record("Items", 100);
```

## âš™ï¸ é…ç½®ç®¡ç†

```csharp
// è¯»å–é…ç½®
var batchSize = ARX.Config.GetSetting(ConfigurationKeys.DefaultBatchSize, 1000);
var customValue = ARX.Config.GetSetting("MyApp.Setting", "DefaultValue");

// è®¾ç½®é…ç½®
ARX.Config.SetSetting("MyApp.MaxRetries", 3);
ARX.Config.SetSetting(ConfigurationKeys.LogLevel, "Debug");

// ä¿å­˜é…ç½®
ARX.Config.Save();
```

## ğŸ¯ äº‹ä»¶ç³»ç»Ÿ

```csharp
// è®¢é˜…é¢„å®šä¹‰äº‹ä»¶
CADEventManager.EntityCreated += async args =>
{
    ARX.Logger.Info($"å®ä½“åˆ›å»º: {args.EntityId}");
};

CADEventManager.ErrorOccurred += async args =>
{
    ARX.Logger.Error($"é”™è¯¯å‘ç”Ÿ: {args.ErrorMessage}");
};

// è§¦å‘äº‹ä»¶
await CADEventManager.OnEntityCreatedAsync(entityId, "Line");
CADEventManager.OnEntityModified(entityId); // åŒæ­¥ç‰ˆæœ¬

// è‡ªå®šä¹‰äº‹ä»¶å¤„ç†
ARX.Events.Subscribe<EntityEventArgs>(async args =>
{
    // å¤„ç†é€»è¾‘
}, priority: (int)EventPriority.High);
```

## ğŸ”— ä¾èµ–æ³¨å…¥

```csharp
// æ³¨å†ŒæœåŠ¡
ARX.Services.RegisterTransient<IMyService, MyService>();
ARX.Services.RegisterSingleton<ICache, MemoryCache>();

// å·¥å‚æ³¨å†Œ
ARX.Services.RegisterFactory<IComplexService>(provider =>
{
    var config = provider.GetRequiredService<IConfigurationManager>();
    return new ComplexService(config);
});

// è·å–æœåŠ¡
var service = ARX.Services.GetRequiredService<IMyService>();
var optionalService = ARX.Services.GetService<IOptionalService>();
```

## ğŸ›¡ï¸ å¼‚å¸¸å¤„ç†

```csharp
// è‡ªåŠ¨å¼‚å¸¸å¤„ç†
var result = CADExceptionHandler.ExecuteWithExceptionHandling(() =>
{
    // å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç 
    return riskyOperation();
}, defaultValue);

// åŒ…è£…æ“ä½œå¹¶ç›‘æ§æ€§èƒ½
ARX.WithPerformanceMonitoring(() =>
{
    // æ‚¨çš„æ“ä½œ
}, "OperationName", "Category");

// æ‰‹åŠ¨æŠ›å‡ºä¸šåŠ¡å¼‚å¸¸
CADExceptionHandler.ThrowEntityException("æ“ä½œåç§°", entityId, "é”™è¯¯æè¿°");
```

## ğŸ§ª æµ‹è¯•

```csharp
[TestClass("æˆ‘çš„æµ‹è¯•")]
public class MyTests
{
    [TestInitialize]
    public void Setup() => ARX.Initialize();

    [TestMethod("æµ‹è¯•å®ä½“æ“ä½œ")]
    public void TestEntityOperation()
    {
        // æµ‹è¯•ä»£ç 
        Assert.IsTrue(condition, "é”™è¯¯æ¶ˆæ¯");
        Assert.AreEqual(expected, actual);
        Assert.ThrowsException<ArgumentException>(() => invalidOperation());
    }
}

// è¿è¡Œæµ‹è¯•
var results = ARX.Testing.RunAllTests();
var specificResult = ARX.Testing.RunTests<MyTests>();
```

## ğŸš€ ç®€åŒ–APIï¼ˆCADå‘½åç©ºé—´ï¼‰

```csharp
using static DotNetARX.CAD;

// å®ä½“æ“ä½œ
Entity.Move(id, from, to);
Entity.Copy(id, from, to);
Entity.Rotate(id, center, angle);

// æ•°æ®åº“æ“ä½œ  
DB.Add(database, entity);
DB.Add(database, entity1, entity2, entity3);

// æ—¥å¿—è®°å½•
Log.Info("æ¶ˆæ¯");
Log.Error("é”™è¯¯", exception);

// æ€§èƒ½ç›‘æ§
using (Perf.Timer("Operation")) { /* ä»£ç  */ }
Perf.Count("Counter");
```

## ğŸ“‹ å¸¸ç”¨é…ç½®é”®

```csharp
// é¢„å®šä¹‰é…ç½®
ConfigurationKeys.DefaultBatchSize        // "CAD.DefaultBatchSize"
ConfigurationKeys.DefaultLayerName       // "CAD.DefaultLayerName" 
ConfigurationKeys.LogLevel               // "System.LogLevel"
ConfigurationKeys.EnableLogging          // "System.EnableLogging"
ConfigurationKeys.EnablePerformanceMonitoring // "Performance.EnableMonitoring"

// ä½¿ç”¨ç¤ºä¾‹
ARX.Config.SetSetting(ConfigurationKeys.LogLevel, "Debug");
ARX.Config.SetSetting(ConfigurationKeys.DefaultBatchSize, 500);
```

## ğŸ” è¯Šæ–­å·¥å…·

```csharp
// ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
ARX.System.IsInitialized; // æ£€æŸ¥æ˜¯å¦å·²åˆå§‹åŒ–

// ç”ŸæˆæŠ¥å‘Š
var systemReport = ARX.System.GenerateReport();
var perfReport = ARX.System.GeneratePerformanceReport();

// é‡ç½®ç³»ç»Ÿï¼ˆæµ‹è¯•ç”¨ï¼‰
ARX.System.Reset();
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é”™è¯¯å¤„ç†
```csharp
// âœ… æ¨èï¼šä½¿ç”¨å¼‚å¸¸å¤„ç†åŒ…è£…å™¨
var success = CADExceptionHandler.ExecuteWithExceptionHandling(() =>
{
    return riskyCadOperation();
}, false);

// âŒ é¿å…ï¼šè£¸éœ²çš„CADæ“ä½œ
var entity = transaction.GetObject(id, OpenMode.ForWrite); // å¯èƒ½æŠ›å‡ºå¼‚å¸¸
```

### 2. èµ„æºç®¡ç†
```csharp
// âœ… æ¨èï¼šä½¿ç”¨å¢å¼ºäº‹åŠ¡ç®¡ç†å™¨
using (var transManager = TransactionManagerFactory.Create(db))
{
    var entity = transManager.GetObject<Entity>(id, OpenMode.ForWrite);
    // æ“ä½œ...
    transManager.Commit();
} // è‡ªåŠ¨é‡Šæ”¾

// âŒ é¿å…ï¼šæ‰‹åŠ¨äº‹åŠ¡ç®¡ç†
var trans = db.TransactionManager.StartTransaction();
try { /* ... */ trans.Commit(); } 
finally { trans.Dispose(); }
```

### 3. æ‰¹é‡æ“ä½œ
```csharp
// âœ… æ¨èï¼šæ‰¹é‡æ·»åŠ 
ARX.ARXDatabase.AddToModelSpace(db, entities);

// âŒ é¿å…ï¼šå¾ªç¯æ·»åŠ 
foreach (var entity in entities)
    ARX.ARXDatabase.AddToModelSpace(db, entity);
```

### 4. å¼‚æ­¥å¤„ç†
```csharp
// âœ… æ¨èï¼šå¤§é‡æ•°æ®å¼‚æ­¥å¤„ç†
await ARX.ARXEntityAsync.BatchOperationAsync(largeDataSet, processor, progress);

// âŒ é¿å…ï¼šåŒæ­¥å¤„ç†å¤§é‡æ•°æ®
foreach (var item in largeDataSet) Process(item); // é˜»å¡UI
```

---

ğŸ“š **å®Œæ•´æ–‡æ¡£**: å‚è§ `README_å®Œæ•´æ–‡æ¡£.md`  
ğŸ› **é—®é¢˜æ’æŸ¥**: æ£€æŸ¥æ—¥å¿—æ–‡ä»¶æˆ–è¿è¡Œ `ARX.System.GenerateReport()`